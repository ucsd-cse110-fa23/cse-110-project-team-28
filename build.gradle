/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * To learn more about Gradle by exploring our Samples at https://docs.gradle.org/8.4/samples
 */

plugins {
  id 'application'
  id 'org.openjfx.javafxplugin' version '0.1.0'
}

repositories {
  mavenCentral()
}

javafx {
  version = "21.0.1"
  modules = [ 'javafx.controls', 'javafx.fxml' ]
}

dependencies {
  implementation 'org.json:json:20090211'
  implementation 'org.apache.commons:commons-text:1.11.0'
  // https://mvnrepository.com/artifact/org.json/json
  implementation 'org.json:json:20231013'
  implementation 'com.google.code.gson:gson:2.10.1'
  implementation 'com.fasterxml.jackson.core:jackson-databind:2.13.2'
  // https://mvnrepository.com/artifact/org.mongodb/mongodb-driver-sync
  implementation 'org.mongodb:mongodb-driver-sync:4.11.1'
  // https://mvnrepository.com/artifact/org.mongodb/bson
  implementation 'org.mongodb:bson:4.11.1'

  testImplementation 'junit:junit:4.12'
  testImplementation "org.testfx:testfx-junit:4.0.17"
  testImplementation "org.testfx:testfx-core:4.0.17"
  // https://mvnrepository.com/artifact/org.mockito/mockito-core
  testImplementation 'org.mockito:mockito-core:5.8.0'
  // https://mvnrepository.com/artifact/org.mockito/mockito-inline
  testImplementation 'org.mockito:mockito-inline:5.2.0'
}

// sourceSets.main.java.srcDirs = ['src']

sourceSets {
  test {
    java {
      srcDir 'src/test/java'
    }
  }
}

test {
  useJUnit()

  // Show test results.
  testLogging {
    events "passed", "skipped", "failed"
    exceptionFormat = 'full'
  }

  maxParallelForks = 1
}

task runServer(type: JavaExec) {
  classpath = sourceSets.main.runtimeClasspath
  main = 'server.RecipeAppServer'
}

mainClassName = 'RecipeApp'